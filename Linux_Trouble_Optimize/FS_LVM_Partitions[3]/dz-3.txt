
   1 Добавьте в операционную систему еще один жесткий диск размером не менее 2Gb (ожидается, что это будет sdb)
   2 Скачайте скрипты и запускайте из будучи пользователем root
   3 Не смотрите содержимое файла, иначе чинить будет не так интенесно
   4 Загрузите интересующий вас скрипт на вашу виртуалку с linux (scp или winscp вам в помощь)
   5 Сделайте файл исполняемым (~# chmod +x <script_name>)
   6 Запустите файл lab1.sh и почините возникшую проблему (тут нас перезаписывают загрузчик mbr(первые 446 байт))
	
РЕШЕНИЕ
	---
	загружаемся с live-cd в rescue mode
	chroot /mnt/sysimage
	grub2-install /dev/sda
	---

   7 Запустите файл lab2.sh и он создаст вам 2 раздела на диске sdb (sdb1 sdb2)
   8 Перезагрузите виртуальную машину
   9 Попробуйте примонитровать /dev/sdb1 в директорию /testlab1 (форматировать (запускать mkfs) /dev/sdb1 нельзя)

РЕШЕНИЕ
	---
	fsck /dev/sdb1 (!!!перед выполнением этой команды убедиться что fs отмонтирована!!!)	
	---

   

   10 После того, как вы все починили, перезагрузите операционную систему и запустите скрипт lab3.sh, который создаст вам LVM на диске sdb и сломает его потом. Внимательно читайте вывод скрипта, так как запустить его придется дважны. Один раз он перезагрузит виртуалку сам, второй раз перезагрузить должны вы
   11 Почините возникшую после перезагрузки проблему. Вам может помочь директория /etc/lvm/archive и команда vgcfgrestore -l (посмотрите что она делает и как ей пользоваться).

РЕШЕНИЕ
	---
	lvs - посмотреть какие LV у нас есть
	lvscan - смотрим какие LV и в каком состоянии есть у нас
	lvchange -a n vgdata (название нашей LV) - Деактивируем logical volume(LV) перед восстановлением
	vgcfgrestore -l vgdata (посмотреть что происходило в LV - идет просмотр файликов /etc/lvm/archive)
	vgcfgrestore vgdata -f /etc/lvm/archive/xxx...vg - восстанавливаем конфигурацию на момент до изменеия какого-либо действия (см. на шаге выше)
	lvscan
	lvchange -a y /dev/vgdata/lvdata - Активируем восстановленную LV
	---


	
   12 ****Задание со звездочкой (сломает вам загрузку ОС, вы сможете доломать до конца, что приведет к переустановке). Запустите скрипт lab4.sh. Наслаждайтесь. (Проблема похожа на пункт 10, но то, как вы будете это чинить, отличается)


РЕШЕНИЕ
	---
	посмотрел в логи, увидел что /dev/mapper/centos-root - can't read superblock
	failed to mount /sysroot
	XFS(dm-0): last sector read failed
	attempt to access beyond and of device - все это навело меня на мысль что изменился размер LV centos-root
	потом в логах я увидел updated centos-root to 16.7Gb - ну и т.к. он изменился в меньшую сторону судя по сообщению - attempt to access beyond and of device
	fsck - тут не поможет и нужно его расширить обратно, но напрашивается вопрос на какой размер. Помню что он был примерно 17G, плюс можно посмотреть что /dev/sda2 - 19Gb, 2Gb - под swap, значит root-centos скорее всего д.б. 17Gb, т.е. нужно расширить на +300M:

	 
	
	lvscan (смотрим какие LV и в каком состоянии есть у нас, видим что состояниу у всех LV - inactive)
	lvextend -a y /dev/centos/root -L 300M -расширяем
	lvscan - проверяем
	lvchange -a y /dev/centos/root - Активируем восстановленную LV
	lvchange -a y /dev/centos/swap - Активируем swap LV
	lvchange -a y /dev/vgdata/lvdata - Активируем lvdata LV
	lvscan - проверяем
	---




